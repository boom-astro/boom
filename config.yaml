database:
  host: localhost
  port: 27017
  name: boom
  max_pool_size: 200
  replica_set: null
  username: mongoadmin
  password: "" # Set via BOOM_DATABASE__PASSWORD environment variable
  srv: false
api:
  domain: "localhost" # Set via BOOM_API__DOMAIN environment variable
  port: 4000 # Set via BOOM_API__PORT environment variable
  auth:
    secret_key: "" # Set via BOOM_API__AUTH__SECRET_KEY environment variable
    token_expiration: 604800 # JWT token expiration in seconds (7 days) -- must be > 0
    admin_username: admin
    admin_password: "" # Set via BOOM_API__AUTH__ADMIN_PASSWORD environment variable
    admin_email: admin@example.com
babamul:
  enabled: false # Set via BOOM_BABAMUL__ENABLED environment variable
  webapp_url: # Set via BOOM_BABAMUL__WEBAPP_URL environment variable
  retention_days: 3
redis:
  host: localhost
  port: 6379
kafka:
  consumer:
    ztf:
      server: "localhost:9092"
      group_id: "" # Set via BOOM_KAFKA__CONSUMER__ZTF__GROUP_ID environment variable
    lsst:
      server: "usdf-alert-stream-dev.lsst.cloud:9094"
      schema_registry: "https://usdf-alert-schemas-dev.slac.stanford.edu"
      schema_github_fallback_url: "https://github.com/lsst/alert_packet/tree/main/python/lsst/alert/packet/schema"
      group_id: "" # Set via BOOM_KAFKA__CONSUMER__LSST__GROUP_ID environment variable
      username: "" # Set via BOOM_KAFKA__CONSUMER__LSST__USERNAME environment variable
      password: "" # Set via BOOM_KAFKA__CONSUMER__LSST__PASSWORD environment variable
    decam:
      server: "localhost:9092"
      group_id: "" # Set via BOOM_KAFKA__CONSUMER__DECAM__GROUP_ID environment variable
  producer:
    server: "localhost:9092" # Only one global producer for now (filter worker output)
workers:
  ztf:
    command_interval: 500
    alert:
      n_workers: 1
    enrichment:
      n_workers: 1
    filter:
      n_workers: 1
  lsst:
    command_interval: 500
    alert:
      n_workers: 1
    enrichment:
      n_workers: 1
    filter:
      n_workers: 1
  decam:
    command_interval: 500
    alert:
      n_workers: 1
    enrichment:
      n_workers: 0
    filter:
      n_workers: 1
crossmatch:
  ztf:
    - catalog: PS1_DR1
      radius: 2.0 # 2 arcseconds
      use_distance: false
      projection:
        _id: 1
        gMeanPSFMag: 1
        gMeanPSFMagErr: 1
        rMeanPSFMag: 1
        rMeanPSFMagErr: 1
        iMeanPSFMag: 1
        iMeanPSFMagErr: 1
        zMeanPSFMag: 1
        zMeanPSFMagErr: 1
        yMeanPSFMag: 1
        yMeanPSFMagErr: 1
        ra: 1
        dec: 1
    - catalog: Gaia_DR3
      radius: 2.0 # 2 arcseconds
      use_distance: false
      projection:
        _id: 1
        ra: 1
        dec: 1
        parallax: 1
        parallax_error: 1
        pm: 1
        pmra: 1
        pmra_error: 1
        pmdec: 1
        pmdec_error: 1
        phot_g_mean_mag: 1
        phot_bp_mean_mag: 1
        phot_rp_mean_mag: 1
        phot_g_n_obs: 1
        phot_bp_n_obs: 1
        phot_rp_n_obs: 1
        ruwe: 1
        phot_bp_rp_excess_factor: 1
    - catalog: milliquas_v8
      radius: 2.0 # 2 arcseconds
      use_distance: false
      projection:
        _id: 1
        Name: 1
        Descrip: 1
        Qpct: 1
        ra: 1
        dec: 1
    - catalog: NED
      radius: 300.0 # 300 arcseconds
      use_distance: true
      distance_key: "z"
      distance_max: 30.0
      distance_max_near: 300.0
      projection:
        _id: 0
        ra: 1
        dec: 1
        objname: 1
        objtype: 1
        z: 1
        z_unc: 1
        z_tech: 1
        z_qual: 1
        DistMpc: 1
        DistMpc_unc: 1
        ebv: 1
        m_Ks: 1
        m_Ks_unc: 1
        tMASSphot: 1
        Mstar: 1
        Mstar_unc: 1
    - catalog: 2MASS_PSC
      radius: 2.0 # 2 arcseconds
      use_distance: false
      projection:
        _id: 1
        ra: 1
        dec: 1
        j_m: 1
        j_msigcom: 1
        j_snr: 1
        h_m: 1
        h_msigcom: 1
        h_snr: 1
        k_m: 1
        k_msigcom: 1
        k_snr: 1
        ndet: 1
    - catalog: GALEX
      radius: 2.0 # 2 arcseconds
      use_distance: false
      projection:
        _id: 1
        ra: 1
        dec: 1
        fuv_mag: 1
        fuv_magerr: 1
        nuv_mag: 1
        nuv_magerr: 1
        fuv_exp: 1
        nuv_exp: 1
        obstype: 1
        band: 1
    - catalog: VSX
      radius: 2.0 # 2 arcseconds
      use_distance: false
      projection:
        _id: 1
        name: 1
        var_flag: 1
        ra: 1
        dec: 1
        types: 1
        max: 1
        max_band: 1
        min_is_amplitude: 1
        min: 1
        min_band: 1
        epoch: 1
        period: 1
        spectral_type: 1
    - catalog: CatWISE2020
      radius: 2.0 # 2 arcseconds
      use_distance: false
      projection:
        _id: 1
        source_name: 1
        ra: 1
        dec: 1
        sigra: 1
        sigdec: 1
        w1mpro: 1
        w2mpro: 1
        w1sigmpro: 1
        w2sigmpro: 1
        w1rchi2: 1
        w2rchi2: 1
        pmra: 1
        pmdec: 1
        sigpmra: 1
        sigpmdec: 1
        unwise_objid: 1
  lsst:
    - catalog: LSPSC
      radius: 30.0 # 30 arcseconds
      use_distance: false
      projection:
        _id: 1
        ra: 1
        dec: 1
        score: 1
        magwhite: 1
      max_results: 3 # 3 nearest neighbors
  decam: []
